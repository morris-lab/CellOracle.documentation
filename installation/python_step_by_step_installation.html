

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-214970391-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Python dependent library installation troubleshooting &mdash; celloracle 0.12.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial" href="../tutorials/index.html" />
    <link rel="prev" title="CellOracle docker image quick start and additional notes" href="docker_additional_information.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> celloracle
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to CellOracle’s documentation!</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#docker-image">Docker image</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#install-celloracle">Install CellOracle</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#system-requirements">System Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#python-requirements">Python Requirements</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#celloracle-installation-using-conda-and-pip">CellOracle installation using conda and pip</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Python dependent library installation troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#check-installation">Check installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#other-optional-softwares-for-input-data-preparation">Other optional softwares for input data preparation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license/index.html">License</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../citation/index.html">Authors and citations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contact/index.html">Contact</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">celloracle</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Installation</a> &raquo;</li>
        
      <li>Python dependent library installation troubleshooting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/installation/python_step_by_step_installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="python-dependent-library-installation-troubleshooting">
<span id="python-step-by-step-installation"></span><h1>Python dependent library installation troubleshooting<a class="headerlink" href="#python-dependent-library-installation-troubleshooting" title="Permalink to this headline">¶</a></h1>
<section id="id1">
<h2><a class="reference external" href="http://velocyto.org/velocyto.py/install/index.html">velocyto</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>If you failed CellOracle installation because of velocyto installation error, please try to install velocyto using the following commands or please follow <a class="reference external" href="http://velocyto.org/velocyto.py/install/index.html">the author’s instruction</a> .</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">scipy</span> <span class="n">cython</span> <span class="n">numba</span> <span class="n">matplotlib</span> <span class="n">scikit</span><span class="o">-</span><span class="n">learn</span> <span class="n">h5py</span> <span class="n">click</span> <span class="n">pysam</span> <span class="n">llvm</span> <span class="n">louvain</span>
</pre></div>
</div>
<p>Then</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">velocyto</span>
</pre></div>
</div>
<p>Some MacOS users have encountered compiler errors during the installation of velocyto.
Several different errors have been reported.
You may find the solution for each of these in the links below.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.apple.com/xcode/">Solution 1: Install Xcode</a>. Please try this first.</p></li>
<li><p><a class="reference external" href="https://stackoverflow.com/a/53057706/10641716">Solution 2: Install macOS_SDK_headers</a>. This solution is needed in addition to Solution-1 if your OS is macOS Mojave.</p></li>
<li><p><a class="reference external" href="https://github.com/morris-lab/CellOracle/issues/3">Solution 3</a>. This is the solution reported by a CellOracle user. Thank you very much!</p></li>
<li><p><a class="reference external" href="https://github.com/velocyto-team/velocyto.py/issues?q=">Other solutions on Velocyto GitHub issue page</a></p></li>
</ul>
</section>
<section id="id2">
<h2><a class="reference external" href="https://scanpy.readthedocs.io/en/stable/installation.html">scanpy</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>If you failed CellOracle installation because of Scanpy installation error, please try to install Scanpy using the following commands or <a class="reference external" href="https://scanpy.readthedocs.io/en/stable/installation.html">the author’s instruction</a> .</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">scanpy</span>
</pre></div>
</div>
</section>
<section id="id4">
<h2><a class="reference external" href="https://daler.github.io/pybedtools/">pybedtools</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>If you have an error related to the pybedtools installation, please install pybedtools using anaconda.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">bioconda</span> <span class="n">pybedtools</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pybedtools is python wrapper of bedtools. If you get “NotImplementedError” during ATAC-seq peak processing step, please try to install bedtools.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">bedtools</span>
</pre></div>
</div>
</div>
</section>
<section id="install-gimmemotifs-with-conda">
<h2>Install gimmemotifs with conda<a class="headerlink" href="#install-gimmemotifs-with-conda" title="Permalink to this headline">¶</a></h2>
<p>If you failed installation in the gimmemotifs installation step, please install gimmemotifs solely first.
We recommend installing gimmemotifs using conda prior to celloracle installation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">bioconda</span> <span class="n">gimmemotifs</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your jupyter notebook kernel keep dying during TF motif scan, there are mainly two possibilities below.</p>
<ol class="arabic simple">
<li><p>Your kernel might be killed because of memory shortage. Please make sure you have enough memory.</p></li>
</ol>
<p>2. If you have enough memory, there is most likely a problem with the gimmemotifs installation in your environment.
Please uninstall gimmemotifs and re-install gimmemotifs using conda.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">uninstall</span> <span class="n">gimmemotifs</span> <span class="o">-</span><span class="n">y</span>
<span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">bioconda</span> <span class="n">gimmemotifs</span>
</pre></div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We found gimmemotifs might have installation issue with anaconda bioconda channel (at 7/7/2022).
If you fail to install gimmemotifs with anaconda, we recommend installing it using anaconda’s offline mode.
More information can be found <a class="reference external" href="https://github.com/vanheeringen-lab/gimmemotifs/issues/271">here</a>.</p>
</div>
</section>
<section id="if-you-encounter-an-error-related-to-certifi">
<h2>If you encounter an error related to “certifi”<a class="headerlink" href="#if-you-encounter-an-error-related-to-certifi" title="Permalink to this headline">¶</a></h2>
<p>If you encounter the following error, it means the error is caused by versiom mismatch of “certifi”.
See <a class="reference external" href="https://stackoverflow.com/questions/50129762/graphlab-create-2-1-installation-fails-to-uninstall-certifi-a-distutils-insta">this page</a>. for more information.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">Cannot</span> <span class="n">uninstall</span> <span class="s1">&#39;certifi&#39;</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">distutils</span> <span class="n">installed</span> <span class="n">project</span> <span class="ow">and</span> <span class="n">thus</span> <span class="n">we</span> <span class="n">cannot</span> <span class="n">accurately</span> <span class="n">determine</span> <span class="n">which</span> <span class="n">files</span> <span class="n">belong</span> <span class="n">to</span> <span class="n">it</span> <span class="n">which</span> <span class="n">would</span> <span class="n">lead</span> <span class="n">to</span> <span class="n">only</span> <span class="n">a</span> <span class="n">partial</span> <span class="n">uninstall</span><span class="o">.</span>
</pre></div>
</div>
<p>In this case, please add “–ignore-installed certifi ” to the installation command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">celloracle</span> <span class="o">--</span><span class="n">ignore</span><span class="o">-</span><span class="n">installed</span> <span class="n">certifi</span>
</pre></div>
</div>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../tutorials/index.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="docker_additional_information.html" class="btn btn-neutral float-left" title="CellOracle docker image quick start and additional notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Samantha Morris Lab

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>