

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; celloracle 0.3.4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial" href="../tutorials/index.html" />
    <link rel="prev" title="Welcome to celloracle’s documentation!" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> celloracle
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to celloracle’s documentation!</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#docker-image">Docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-requirements">Python Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#optional-make-a-new-environment">0. (Optional) Make a new environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-conda-channels">1. Add conda channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-velocyto">2. Install velocyto</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-scanpy">3. Install scanpy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-gimmemotifs">4. Install gimmemotifs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-other-python-libraries">5. Install other python libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-celloracle-from-github">6. install celloracle from github</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#r-requirements">R requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Seurat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Cicero</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">igraph</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">linkcomm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">rnetcarto</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-installation">Check installation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license/index.html">License</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../citation/index.html">Authors and citations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">celloracle</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/installation/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="installation">
<span id="install"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">celloracle</span></code> uses several python libraries and R library. Please follow this guide below to install the dependent software of celloracle.</p>
<div class="section" id="docker-image">
<span id="require"></span><h2>Docker image<a class="headerlink" href="#docker-image" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Not available now. Comming soon.</p></li>
</ul>
</div>
<div class="section" id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Operating system: macOS or linux are highly recommended. <code class="docutils literal notranslate"><span class="pre">celloracle</span></code> was developed and tested in Linux and macOS.</p></li>
<li><p>We found that the celloracle calculation may be EXTREMELY SLOW under an environment of Windows Subsystem for Linux (WSL). We do not recommend using WSL.</p></li>
<li><p>While you can install <code class="docutils literal notranslate"><span class="pre">celloracle</span></code> in Windows OS, please do so at your own risk and responsibility. We DO NOT provide any support for the use in the Windows OS.</p></li>
<li><p>Memory: 8 G byte or more.  Memory usage also depends on your scRNA-seq data. Especially in silico perturbation requires large amount of memory.</p></li>
<li><p>CPU: Core i5 or better processor. GRN inference supports multicore calculation. Higer number of CPU cores enables faster calculation.</p></li>
</ul>
</div>
<div class="section" id="python-requirements">
<h2>Python Requirements<a class="headerlink" href="#python-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">celloracle</span></code> was developed with python 3.6. We do not support python 2.7x or python &lt;=3.5.</p></li>
<li><p>Please install all dependent libraries before installing <code class="docutils literal notranslate"><span class="pre">celloracle</span></code> according to the instructions below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">celloracle</span></code>  is still beta version and it is not available through PyPI or anaconda distribution yet. Please install <code class="docutils literal notranslate"><span class="pre">celloracle</span></code> from GitHub repository according to the instruction below.</p></li>
</ul>
<div class="section" id="optional-make-a-new-environment">
<h3>0. (Optional) Make a new environment<a class="headerlink" href="#optional-make-a-new-environment" title="Permalink to this headline">¶</a></h3>
<p>This step is optional. Please make a new python environment for celloracle and install dependent libraries in it if you get some software conflicts.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">celloracle_env</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.6</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">celloracle_env</span>
</pre></div>
</div>
</div>
<div class="section" id="add-conda-channels">
<h3>1. Add conda channels<a class="headerlink" href="#add-conda-channels" title="Permalink to this headline">¶</a></h3>
<p>Installation of some libraries requires non-default anaconda channels. Please add the channels below. Instead, you can explicitly enter the channel when you install a library.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">config</span> <span class="o">--</span><span class="n">add</span> <span class="n">channels</span> <span class="n">defaults</span>
<span class="n">conda</span> <span class="n">config</span> <span class="o">--</span><span class="n">add</span> <span class="n">channels</span> <span class="n">bioconda</span>
<span class="n">conda</span> <span class="n">config</span> <span class="o">--</span><span class="n">add</span> <span class="n">channels</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span>
</pre></div>
</div>
</div>
<div class="section" id="install-velocyto">
<h3>2. Install <a class="reference external" href="http://velocyto.org/velocyto.py/install/index.html">velocyto</a><a class="headerlink" href="#install-velocyto" title="Permalink to this headline">¶</a></h3>
<p>Please install velocyto with the following commands or <a class="reference external" href="http://velocyto.org/velocyto.py/install/index.html">the author’s instruction</a> .</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">scipy</span> <span class="n">cython</span> <span class="n">numba</span> <span class="n">matplotlib</span> <span class="n">scikit</span><span class="o">-</span><span class="n">learn</span> <span class="n">h5py</span> <span class="n">click</span> <span class="n">pysam</span> <span class="n">gcc</span> <span class="n">llvm</span>
</pre></div>
</div>
<p>Then</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">velocyto</span>
</pre></div>
</div>
<p>It was reported that some compile errors might occur during the installation of velocyto on MacOS.
Various errors were reported and you need to find the best solution depending on your error.
You may find the solution with these links below.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.apple.com/xcode/">Solution 1: Install Xcode</a>. Please try this first.</p></li>
<li><p><a class="reference external" href="https://stackoverflow.com/a/53057706/10641716">Solution 2: Install macOS_SDK_headers</a>. This solution is needed in addition to Solution-1 if your OS is MacOS Mojave.</p></li>
<li><p><a class="reference external" href="https://github.com/morris-lab/CellOracle/issues/3">Solution 3</a>. This is the solution reported by a CellOracle user. Thank you very much!</p></li>
<li><p><a class="reference external" href="https://github.com/velocyto-team/velocyto.py/issues?q=">Other solutions on Velocyto github issue page</a></p></li>
</ul>
</div>
<div class="section" id="install-scanpy">
<h3>3. Install <a class="reference external" href="https://scanpy.readthedocs.io/en/stable/installation.html">scanpy</a><a class="headerlink" href="#install-scanpy" title="Permalink to this headline">¶</a></h3>
<p>Please install scanpy with the following commands or <a class="reference external" href="https://scanpy.readthedocs.io/en/stable/installation.html">the author’s instruction</a> .</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">seaborn</span> <span class="n">statsmodels</span> <span class="n">numba</span> <span class="n">pytables</span> <span class="n">python</span><span class="o">-</span><span class="n">igraph</span> <span class="n">louvain</span>
</pre></div>
</div>
<p>Then</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">scanpy</span>
</pre></div>
</div>
</div>
<div class="section" id="install-gimmemotifs">
<h3>4. Install <a class="reference external" href="https://gimmemotifs.readthedocs.io/en/master/installation.html">gimmemotifs</a><a class="headerlink" href="#install-gimmemotifs" title="Permalink to this headline">¶</a></h3>
<p>Please install gimmemotifs with the following commands or <a class="reference external" href="https://gimmemotifs.readthedocs.io/en/master/installation.html">the author’s instruction</a> .</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">genomepy</span><span class="o">=</span><span class="mf">0.5</span><span class="o">.</span><span class="mi">5</span> <span class="n">gimmemotifs</span><span class="o">=</span><span class="mf">0.13</span><span class="o">.</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="install-other-python-libraries">
<h3>5. Install other python libraries<a class="headerlink" href="#install-other-python-libraries" title="Permalink to this headline">¶</a></h3>
<p>Please install other python libraries below with the following commands.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">goatools</span> <span class="n">pyarrow</span> <span class="n">tqdm</span> <span class="n">joblib</span> <span class="n">jupyter</span>
</pre></div>
</div>
</div>
<div class="section" id="install-celloracle-from-github">
<h3>6. install celloracle from github<a class="headerlink" href="#install-celloracle-from-github" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">morris</span><span class="o">-</span><span class="n">lab</span><span class="o">/</span><span class="n">CellOracle</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="r-requirements">
<h2>R requirements<a class="headerlink" href="#r-requirements" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">celloracle</span></code> use R libraries for the network analysis and scATAC-seq analysis.
Please install <a class="reference external" href="https://www.r-project.org">R</a> (&gt;=3.5) and R libraries below according to the author’s instruction.</p>
<div class="section" id="id3">
<h3><a class="reference external" href="https://satijalab.org/seurat/install.html">Seurat</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Please install <code class="docutils literal notranslate"><span class="pre">Seurat</span></code> with the following r-script or <a class="reference external" href="https://satijalab.org/seurat/install.html">the author’s instruction</a> .
<code class="docutils literal notranslate"><span class="pre">celloracle</span></code> is compatible with both Seurat V2 and V3.
If you use only <code class="docutils literal notranslate"><span class="pre">scanpy</span></code> for the scRNA-seq preprocessing and do not use <code class="docutils literal notranslate"><span class="pre">Seurat</span></code> , you can skip installation of <code class="docutils literal notranslate"><span class="pre">Seurat</span></code>.</p>
<p>In R console,</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">install.packages</span><span class="p">(</span><span class="s">&#39;Seurat&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3><a class="reference external" href="https://cole-trapnell-lab.github.io/cicero-release/docs/#installing-cicero">Cicero</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Please install <code class="docutils literal notranslate"><span class="pre">Cicero</span></code> with the following r-script or <a class="reference external" href="https://cole-trapnell-lab.github.io/cicero-release/docs/#installing-cicero">the author’s instruction</a> .
If you do not have scATAC-seq data and plan to use celloracle’s base GRN, you do not need to install <code class="docutils literal notranslate"><span class="pre">Cicero</span></code>.</p>
<p>In R console,</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">if </span><span class="p">(</span><span class="o">!</span><span class="nf">requireNamespace</span><span class="p">(</span><span class="s">&quot;BiocManager&quot;</span><span class="p">,</span> <span class="n">quietly</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">))</span>
<span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;BiocManager&quot;</span><span class="p">)</span>
<span class="n">BiocManager</span><span class="o">::</span><span class="nf">install</span><span class="p">(</span><span class="s">&quot;cicero&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3><a class="reference external" href="https://igraph.org/r/">igraph</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Please install <code class="docutils literal notranslate"><span class="pre">igraph</span></code> with the following r-script or <a class="reference external" href="https://igraph.org/r/">the author’s instruction</a> .</p>
<p>In R console,</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;igraph&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3><a class="reference external" href="https://cran.r-project.org/web/packages/linkcomm/index.html">linkcomm</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Please install <code class="docutils literal notranslate"><span class="pre">linkcomm</span></code> with the following r-script or <a class="reference external" href="https://cran.r-project.org/web/packages/linkcomm/index.html">the author’s instruction</a> .</p>
<p>In R console,</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;linkcomm&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3><a class="reference external" href="https://github.com/cran/rnetcarto/blob/master/src/rgraph/README.md">rnetcarto</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>Please install <code class="docutils literal notranslate"><span class="pre">rnetcarto</span></code> with the following r-script or <a class="reference external" href="https://github.com/cran/rnetcarto/blob/master/src/rgraph/README.md">the author’s instruction</a> .</p>
<p>In R console,</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;rnetcarto&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="check-installation">
<h3>Check installation<a class="headerlink" href="#check-installation" title="Permalink to this headline">¶</a></h3>
<p>These R libraries above are necessary for the network analysis in celloracle. You can check installation using celloracle’s function.</p>
<p>In python console,</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">celloracle</span> <span class="kn">as</span> <span class="nn">co</span>
<span class="n">co</span><span class="o">.</span><span class="n">network_analysis</span><span class="o">.</span><span class="n">test_R_libraries_installation</span><span class="p">()</span>
</pre></div>
</div>
<p>Please make sure that all R libraries are installed. The following message will be shown when all R libraries are appropriately installed.</p>
<div class="line-block">
<div class="line">R path: /usr/lib/R/bin/R</div>
<div class="line">checking R library installation: igraph -&gt; OK</div>
<div class="line">checking R library installation: linkcomm -&gt; OK</div>
<div class="line">checking R library installation: rnetcarto -&gt; OK</div>
</div>
<p>The first line above is your R path. If you want to use another R program that was installed at the different place, you can set new R path with the following command.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">co</span><span class="o">.</span><span class="n">network_analysis</span><span class="o">.</span><span class="n">set_R_path</span><span class="p">(</span><span class="s2">&quot;ENTER YOUR R PATH HERE&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you changed R path settings, please check installation again to make sure everything works.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">co</span><span class="o">.</span><span class="n">network_analysis</span><span class="o">.</span><span class="n">test_R_libraries_installation</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../tutorials/index.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to celloracle’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Samantha Morris Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>